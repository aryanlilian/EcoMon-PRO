{% extends 'home/auth/base.html' %}
{% load widget_tweaks %}
{% load socialaccount %}
{% providers_media_js %}
{% block content %}
    <div class="card o-hidden border-0 shadow-lg my-5">
      <div class="card-body p-0">
        <!-- Nested Row within Card Body -->
        <div class="row">
          <div class="col-lg-5 d-none d-lg-block bg-register-image"></div>
          <div class="col-lg-7">
            <div class="p-5">
              <div class="text-center">
                <h1 class="h4 text-gray-900 mb-4">Create an Account!</h1>
              </div>
              <form class="user" method="POST">
                {% csrf_token %}
                <div class="form-group row">
                  <div class="col-sm-6 mb-3 mb-sm-0">
                    {% render_field form.email class="form-control form-control-user" id="exampleFirstName" placeholder="Email" %}
                    {% for error in form.email.errors %}
                        <small class="text-xs font-weight text-danger">{{ error }}</small>
                    {% endfor %}
                  </div>
                  <div class="col-sm-6">
                    {% render_field form.username class="form-control form-control-user" id="exampleLastName" placeholder="Username"%}
                    {% for error in form.username.errors %}
                        <small class="text-xs font-weight text-danger">{{ error }}</small>
                    {% endfor %}
                  </div>
                </div>
                <div class="form-group row">
                  <div class="col-sm-6 mb-3 mb-sm-0">
                    {% render_field form.first_name class="form-control form-control-user" id="exampleFirstName" placeholder="First Name"%}
                    {% for error in form.first_name.errors %}
                        <small class="text-xs font-weight text-danger">{{ error }}</small>
                    {% endfor %}
                  </div>
                  <div class="col-sm-6">
                    {% render_field form.last_name class="form-control form-control-user" id="exampleLastName" placeholder="Last Name"%}
                    {% for error in form.last_name.errors %}
                        <small class="text-xs font-weight text-danger">{{ error }}</small>
                    {% endfor %}
                  </div>
                </div>
                <div class="form-group row">
                  <div class="col-sm-6 mb-3 mb-sm-0">
                    {% render_field form.password1 class="form-control form-control-user" id="exampleInputPassword" placeholder="Password" %}
                    {% for error in form.password1.errors %}
                        <small class="text-xs font-weight text-danger">{{ error }}</small>
                    {% endfor %}
                  </div>
                  <div class="col-sm-6">
                    {% render_field form.password2 class="form-control form-control-user" id="exampleRepeatPassword" placeholder="Repeat Password" %}
                    {% for error in form.password2.errors %}
                        <small class="text-xs font-weight text-danger">{{ error }}</small>
                    {% endfor %}
                  </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-12 mb-6 mb-sm-0">
                        <div class="custom-control custom-checkbox">
                            {% render_field form.send_marketing_emails class="custom-control-input" id="marketingEmail" %}
                            <label class="custom-control-label ml-2 mt-1" for="marketingEmail">I agree to receive marketing emails from <strong>EcoMon</strong></label>
                            {% for error in form.marketing_email.errors %}
                                <small class="text-xs font-weight text-danger">{{ error }}</small>
                            {% endfor %}
                         </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-12 mb-6 mb-sm-0">
                        <div class="custom-control custom-checkbox">
                           {% render_field form.accept_terms_and_conditions class="custom-control-input" id="acceptTermsAndConditions" %}
                           <label class="custom-control-label ml-2 mt-1" for="acceptTermsAndConditions">I read and I agree with <a href="{% url 'privacy-policy' %}">Data Security Policy</a> and <a href="{% url 'terms-and-conditions' %}">Terms and Conditions</a></label>
                           {% for error in form.accept_terms_and_conditions.errors %}
                               <small class="text-xs font-weight text-danger">{{ error }}</small>
                           {% endfor %}
                        </div>
                     </div>
                </div>
                <input type="submit" name="Register" class="btn btn-primary btn-user btn-block" value="Register Account">
                <hr>
                <a href="{% provider_login_url "google" %}" class="btn btn-google btn-user btn-block">
                  <i class="fab fa-google fa-fw"></i> Register with Google
                </a>
                <a href="{% provider_login_url "facebook" %}" class="btn btn-facebook btn-user btn-block">
                  <i class="fab fa-facebook-f fa-fw"></i> Register with Facebook
                </a>
              </form>
              <hr>
              <div class="text-center">
                <a class="small" href="{% url 'password_reset' %}">Forgot Password?</a>
              </div>
              <div class="text-center">
                <a class="small" href="{% url 'login' %}">Already have an account? Login!</a>
              </div>
              <div class="text-center">
                <a class="small" href="{% url 'index' %}">Go to Home</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
{% endblock %}
